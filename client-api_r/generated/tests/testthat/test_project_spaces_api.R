# Automatically generated by openapi-generator (https://openapi-generator.tech)
# Please update as you see appropriate

context("Test ProjectSpacesApi")

api_instance <- ProjectSpacesApi$new()

test_that("CloseProjectSpace", {
  # tests for CloseProjectSpace
  # base path: http://localhost:8080
  # Close project-space and remove it from application.
  # Close project-space and remove it from application. Project-space will NOT be deleted from disk.
  # @param project_id character unique name/identifier of the  project-space to be closed.
  # @return [Void]
  
  pid <- 1
  dir <- "dir1"
  api_instance$CreateProjectSpace(pid, dir)
  resp <- api_instance$GetProjectSpace(pid)
  api_instance$CloseProjectSpace(pid)
  resp2 <- api_instance$GetProjectSpace(pid)

  expect_equal(resp$name, toString(pid))
  expect_equal(resp2$status_code, 404)
  
  withr::defer(api_instance$CloseProjectSpace(pid))
  withr::defer(unlink(dir, recursive = TRUE))
})

test_that("CreateProjectSpace", {
  # tests for CreateProjectSpace
  # base path: http://localhost:8080
  # Create and open a new project-space at given location and make it accessible via the given projectId.
  # Create and open a new project-space at given location and make it accessible via the given projectId.
  # @param project_id character unique name/identifier that shall be used to access the newly created project-space.
  # @param path_to_project character 
  # @param path_to_source_project character  (optional)
  # @param await_import character  (optional)
  # @return [ProjectSpaceId]
  
  pid <- 2
  dir <- "dir2"
  resp <- api_instance$CreateProjectSpace(pid, dir)

  expect_equal(resp$name, toString(pid))
  
  withr::defer(api_instance$CloseProjectSpace(pid))
  withr::defer(unlink(dir, recursive = TRUE))
})

test_that("GetProjectSpace", {
  # tests for GetProjectSpace
  # base path: http://localhost:8080
  # Get project space info by its projectId.
  # Get project space info by its projectId.
  # @param project_id character unique name/identifier tof the project-space to be accessed.
  # @return [ProjectSpaceId]
  
  pid <- 3
  dir <- "dir3"
  api_instance$CreateProjectSpace(pid, dir)
  resp <- api_instance$GetProjectSpace(pid)

  expect_equal(resp$name, toString(pid))
  
  withr::defer(api_instance$CloseProjectSpace(pid))
  withr::defer(unlink(dir, recursive = TRUE))
})

test_that("GetProjectSpaces", {
  # tests for GetProjectSpaces
  # base path: http://localhost:8080
  # List all opened project spaces.
  # List all opened project spaces.
  # @return [array[ProjectSpaceId]]
  
  resp <- api_instance$GetProjectSpaces()

  expect_equal(is.list(resp) || is.null(resp), TRUE)
})

test_that("OpenProjectSpace", {
  # tests for OpenProjectSpace
  # base path: http://localhost:8080
  # Open an existing project-space and make it accessible via the given projectId.
  # Open an existing project-space and make it accessible via the given projectId.
  # @param project_id character unique name/identifier that shall be used to access the opened project-space.
  # @param path_to_project character 
  # @return [ProjectSpaceId]
  
  pid <- 4
  dir <- "dir4"
  api_instance$CreateProjectSpace(pid, dir)
  api_instance$CloseProjectSpace(pid)
  resp <- api_instance$OpenProjectSpace(pid, dir)

  expect_equal(resp$name, toString(pid))
  
  withr::defer(api_instance$CloseProjectSpace(pid))
  withr::defer(unlink(dir, recursive = TRUE))
})
